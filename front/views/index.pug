extends layout

block content
  h1= title
  div(style="display: flex; flex-direction: column; align-items: center; margin-top: 50px;")
    input#username(type="text" placeholder="Enter your username" required style="width: 300px; padding: 10px; border: 1px solid #ccc; border-radius: 5px; margin-bottom: 20px;")
    input#room(type="text" placeholder="Enter room name" required style="width: 300px; padding: 10px; border: 1px solid #ccc; border-radius: 5px; margin-bottom: 20px;")
    button#save-username(style="width: 300px; padding: 10px; border: none; border-radius: 5px; background-color: #4CAF50; color: white; font-size: 16px; cursor: pointer;")
      | Join Room
  script(src="/socket.io/socket.io.js")
  script.
    var socket = io();
    document.getElementById('save-username').addEventListener('click', function() {
      var username = document.getElementById('username').value;
      var room = document.getElementById('room').value;
      var data = {username: username, room: room};
      if (username && room) {
        // socket.emit('joinRoom', data);
        // 사용자 이름과 방 이름을 세션에 저장 후 채팅방으로 이동
        window.location.href = '/room?username=' + encodeURIComponent(username) + '&room=' + encodeURIComponent(room);
      }
    });
